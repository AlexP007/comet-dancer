<: cascade admin::dashboard::container :>
<: around body -> { :>

<div class="flex justify-between items-center">
    <h3 class="text-gray-700 text-3xl font-medium">Users</h3>

    <nav>
        <form method="get">
            <div class="flex flex-col sm:flex-row">
                <div class="flex">
                    <div class="relative">
                        <: include components::forms::select {
                            class   => 'appearance-none h-full rounded-l border block w-full bg-white border-gray-400 text-gray-700 py-2 px-4 pr-8 leading-tight focus:outline-none focus:bg-white focus:border-gray-500',
                            name    => 'role',
                            options => $roles,
                        } :>

                        <div class="pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700">
                            <: include components::icons::arrow_down :>
                        </div>
                    </div>
                    <div class="relative">
                        <: include components::forms::select {
                            class   => 'appearance-none h-full rounded-r border-t sm:rounded-r-none sm:border-r-0 border-r border-b block w-full bg-white border-gray-400 text-gray-700 py-2 px-4 pr-8 leading-tight focus:outline-none focus:border-l focus:border-r focus:bg-white focus:border-gray-500',
                            name    => 'active',
                            options => [
                                { text => 'All',      value => ''},
                                { text => 'Active',   value => 0 },
                                { text => 'Inactive', value => 1 },
                            ],
                        } :>

                        <div class="pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700">
                            <: include components::icons::arrow_down :>
                        </div>
                    </div>
                </div>
                <div class="block relative mt-2 sm:mt-0">
                    <span class="absolute inset-y-0 left-0 flex items-center pl-2">
                       <: include components::icons::magnifier :>
                    </span>

                    <: include components::forms::input {
                        name        => $name,
                        class       => 'appearance-none rounded-r rounded-l sm:rounded-l-none border border-gray-400 border-b block pl-8 pr-6 py-2 w-full bg-white text-sm placeholder-gray-400 text-gray-700 focus:bg-white focus:placeholder-gray-600 focus:text-gray-700 focus:outline-none',
                        type        => 'search',
                        placeholder => 'Search',
                    } :>
                </div>
            </div>
        </form>
    </nav>
    <div class="pr-4">
        <: include components::utils::button_link {
           text  => 'New',
           link  => $routes.user_create,
           color => 'sky',
        } :>
    </div>
</div>

<div class="mt-8">
    <: include components::tables::table {
       name        => $table.name,
       headings    => $table.headings,
       rows        => $table.rows,
    } :>
</div>

<div class="mt-2">
    <: include components::utils::pagination {$pagination} :>
</div>

<: } :>
